---
title: Python/êµ¬í˜„ 23291 ì–´í•­ì •ë¦¬
date: 2021-12-19 23:30:09
categories:
- CodingTest
tags:
- êµ¬í˜„
---

# [Python/êµ¬í˜„ 23291 ì–´í•­ì •ë¦¬

ğŸ“Œ[ë¬¸ì œë§í¬](https://www.acmicpc.net/problem/23291) [í’€ì´ì°¸ê³ ](https://devlibrary00108.tistory.com/663)

  

*í’€ì´ì°¸ê³  ë§í¬ ë“¤ì–´ê°€ì…”ì…” ë³´ì‹œë©´ ë©ë‹ˆë‹¤.

  

 ë¬¼ê³ ê¸°ê°€ ê°€ì¥ ë§ì´ ë“¤ì–´ìˆëŠ” ì–´í•­ê³¼ ê°€ì¥ ì ê²Œ ë“¤ì–´ìˆëŠ” ì–´í•­ì˜ ë¬¼ê³ ê¸° ìˆ˜ ì°¨ì´ê°€ K ì´í•˜ê°€ ë˜ë ¤ë©´ ì–´í•­ì„ ëª‡ ë²ˆ ì •ë¦¬í•´ì•¼í•˜ëŠ”ì§€ ì¶œë ¥í•˜ë©´ ëœë‹¤. 

ì–´ë µë‹¤ ì–´ë ¤ì›Œ,,,,,ì—¬íƒœê» í‘¼ ë¬¸ì œì¤‘ì— ì œì¼ ì–´ë µë‹¤. ì‹œí—˜ì¥ì—ì„œ ë§Œë‚¬ë‹¤ë©´ ì •ë§ ë‡Œì ˆ ê°ì´ë‹¤. 

ì§€ê¸ˆ ë§Œë‚œê±¸ ë‹¤í–‰ì´ë¼ ìƒê°í•˜ì ^_^! 

ì•„ë˜ ì ‘ê·¼ ìˆœì„œëŒ€ë¡œ ì°¨ë¶„íˆ ì§œë³´ì.

  

[ì ‘ê·¼]

0. ìµœì†Œê°’ì— 1 ë”í•˜ê¸°
1. ì¼ë ¬ë¡œ ì •ë ¬ëœ ì–´í•­ì„ êµ´ë ¤ì„œ ìŒ“ê¸° - roll_1
2. ì¸ì ‘ëœ ì–´í•­ì— ëŒ€í•´ ë¬¼ê³ ê¸°ìˆ˜ ì°¨ì´ë¥¼ 5ë¡œ ë‚˜ëˆˆ ëª« dë¥¼ êµ¬í•¨ - fish_arrange
3. ëª«ì´ 0ë³´ë‹¤ í¬ë©´ ë‘ ì–´í•­ì¤‘ ë¬¼ê³ ê¸° ìˆ˜ê°€ ë§ì€ ê³³ì— ìˆëŠ” ë¬¼ê³ ê¸° d ë§ˆë¦¬ë¥¼ ì ì€ê³³ì— ìˆëŠ” ê³³ìœ¼ë¡œ ë³´ëƒ„ - fish_arrange
4. ì¼ë ¬ë¡œ ì–´í•­ì„ í‘¼ë‹¤. - unflod
5. ë‹¤ì‹œ ìŒ“ëŠ” ì‘ì—… ì§„í–‰ í›„ ë¬¼ê³ ê¸° ì¬ì •ë ¬ - roll_2
6. ëª«ì´ 0ë³´ë‹¤ í¬ë©´ ë‘ ì–´í•­ì¤‘ ë¬¼ê³ ê¸° ìˆ˜ê°€ ë§ì€ ê³³ì— ìˆëŠ” ë¬¼ê³ ê¸° d ë§ˆë¦¬ë¥¼ ì ì€ê³³ì— ìˆëŠ” ê³³ìœ¼ë¡œ ë³´ëƒ„ - fish_arrange
7. ì¼ë ¬ë¡œ ì–´í•­ì„ í‘¼ë‹¤. - unflod

  

```python
import sys
from collections import deque
from typing import Match 

input = sys.stdin.readline
N,K =map(int,input().split())
arr = list(map(int,input().split()))
delta = ((0, -1), (-1, 0), (0, 1), (1, 0))

pivot = N//4
for i in range(2,11):
    if i**2 >=N:
        n=i
        break


def add_minimum(arr):
    min_val = min(arr)
    for i in range(N) :
        if arr[i] == min_val :
            arr[i] +=1


def roll_1():
    row,col = n,n
    if n**2 - N >=n :
        col -=1
    matrix =[[0]*col for _ in range(row)]
    q = deque()
    q.append((row-1,col-1,0))
    blank_cnt = row*col -N
    start = N-1
    while q :
        x, y, d = q.popleft()
        matrix[x][y] = arr[start]
        if blank_cnt:
            matrix[x][y] = -1
        for i in range(d,d+4) :
            i %= 4
            nx,ny = x+delta[i][0], y +delta[i][1]
            if 0 <= nx < row and 0 <= ny < col and not matrix[nx][ny] :
                q.append((nx,ny,i))
                if blank_cnt:
                    blank_cnt-=1
                else:
                    start -=1
                break
    return matrix

def fish_arrange(matrix):
    row = len(matrix)
    col = len(matrix[0])
    new_matrix = [[0] * col for _ in range(row)]
    if matrix[-1][-1] == -1:
        row -= 1
        a, b = row - 1, row
        if matrix[a][0] != -1 and matrix[b][0] != -1:
            if matrix[a][0] < matrix[b][0]:
                a, b = b, a
            move = (matrix[a][0] - matrix[b][0]) // 5
            new_matrix[a][0] -= move
            new_matrix[b][0] += move
        for y in range(col):
            if matrix[row][y] == -1:
                break
            for dy in (1, -1):
                ny = y + dy
                if 0 <= ny < col and matrix[row][ny] != -1:
                    if matrix[row][y] - matrix[row][ny] < 5:
                        continue
                    move = (matrix[row][y] - matrix[row][ny]) // 5
                    new_matrix[row][ny] += move
                    new_matrix[row][y] -= move 
    for x in range(row):
        for y in range(col):
            for dx, dy in delta:
                nx, ny = x + dx, y + dy
                if 0 <= nx < row and 0 <= ny < col:
                    if matrix[x][y] - matrix[nx][ny] < 5:
                        continue
                    move = (matrix[x][y] - matrix[nx][ny]) // 5
                    new_matrix[nx][ny] += move
                    new_matrix[x][y] -= move
    if matrix[-1][-1] == -1:
        row += 1
    for i in range(row):
        for j in range(col):
            matrix[i][j] += new_matrix[i][j]
    return matrix

def make_arr(matrix):
    row = len(matrix)
    col = len(matrix[0])
    ret = []
    if matrix[-1][-1] == -1:
        for i in range(row):
            for j in range(col):
                if matrix[i][j] == -1:
                    continue
                ret.append(matrix[i][j])
    else:
        for i in range(col):
            for j in range(row - 1, -1, -1):
                ret.append(matrix[j][i])
    return ret


def make_four_row(arr):
    new_matrix = []
    new_matrix.append(arr[pivot * 2:pivot * 3][::-1])
    new_matrix.append(arr[pivot:pivot * 2])
    new_matrix.append(arr[:pivot][::-1])
    new_matrix.append(arr[pivot * 3:])
    return new_matrix


ans =0
while max(arr)-min(arr) > K :
    add_minimum(arr)
    matrix = roll_1()
    matrix = fish_arrange(matrix)
    arr = make_arr(matrix)
    matrix = make_four_row(arr)
    matrix = fish_arrange(matrix)
    arr = make_arr(matrix)
    ans += 1

print(ans)

```

  

## íšŒê³ 

êµ´ë¦¬ëŠ” ë¡œì§ì´ ì „í˜€ ë¨¸ë¦¬ì†ì— ë– ì˜¤ë¥´ì§€ ì•Šì•„ì„œ ì• ë¨¹ì—ˆë‹¤. 

ë‹µì„ ë³´ì§€ ì•Šê³ ì„œëŠ” í’€ì§€ ëª»í•˜ëŠ” ìˆ˜ì¤€ì´ì˜€ë‹¤.
